{"title":"Loading and Saving Data","markdown":{"yaml":{"title":"Loading and Saving Data","authors-ipa":["[Ishmail Azindoo Baako](https://poverty-action.org/people/ishmail-azindoo-baako)"],"contributors":["[Cristhian Pulido](https://poverty-action.org/people/cristhian-pulido)"]},"headingText":"Setting up a working directory","containsRefs":false,"markdown":"\n\n\n:::{.page-subtitle}\nIn this resource, we focus on accessing and saving data in Stata, before moving on with data exploration and manipulation.\n:::\n\n\n\nWhile working in Stata, you will often need to import or export files into directories (or folders) on your computer. When importing or exporting a file, you need to indicate the location in which the file can be found or saved so that Stata is able to pinpoint the exact file you are looking for or output to the exact folder that you want. In this section, we will explore how Stata handles file directories.\n\nWhenever you open up Stata, Stata sets a default directory. You can see this directory at the bottom left corner of the Stata window.\n\n![Stata Working Directory](/assets/images/stata-working-directory.jpg){fig-cap=\"Stata Working Directory\" width=75%}\n\nStata also provides a convenient command for displaying your current directory. Type the following into your Command window:\n\n```stata\npwd\n```\n\nYou will notice that Stata has displayed the same directory that is displayed at the bottom left of your Stata window. This directory is your current working directory—whenever you try to import or export in Stata without specifying a directory, Stata will assume that this is the one you mean. You can also list the names of the files and folders of your current working directory by using the following commands:\n\n```stata\ndir\nls\n```\n\nFor most projects, you will want to change your working directory to a folder that contains the files you want to work with. You can change your current working directory using the \"cd\" command. Pull up and read the help file for the following command:\n\n```stata\ncd \"target folder\"\n```\n\n## Absolute vs. Relative Paths\n\nWhen working with Stata, it is important to keep a good file system that allows you to easily find project files and subfolders that you may be looking for. Sometimes you may be working alone and can set all your paths with only your own workspace in mind. However, in most cases you will want to write your Stata code in a way that makes it easily usable on other computers without additional setup.\n\nA **relative path** denotes a file path in relation to the current working directory, while an absolute path denotes a file's path at a fixed location on a disk. In most cases, you want to use relative paths—let's explore how they work. First, examine the folder shown below. Take notice of the path at the top as well as the subfolders in this folder. \n\n![Absolute vs. Relative Paths in Stata](/assets/images/stata-relative-path.jpg){fig-cap=\"Using Relative Paths in Stata\" width=75%}\n\nLet's assume that your current working directory in Stata is *\"D:\\Files\\Data Cleaning\\Main Data\"*, which is the folder in the picture above. You want to navigate within Stata to the *\"1 dofiles\"* subfolder. You could achieve this using either of the following codes: \n\n```stata\n* Option 1\ncd \"D:\\Files\\Data Cleaning\\Main Data/1 dofiles\"\n\n* Option 2\ncd \"1 dofiles\"\n```\n\nCode 1 is an example of using an **absolute path**—it directs Stata to an exact location every single time you run this code. This means that regardless of your current working directory in Stata, you can always switch to this target directory using Code 1. However, this code may not work on another computer unless the other user has the *\"Main Data\"* folder located in the path *\"D:\\Files\\Data Cleaning\"*. \n\nCode 2 directs Stata to the same folder using a **relative path**. Based on this code, Stata will assume that you want to move to a folder named *\"1 dofiles\"* which is located in your current working directory. This code will only work if your current working directory contains the folder *\"1 dofiles\"*. \n\n{{< video https://youtu.be/ephId3mYu9o\n    title=\"Absolute and Relative Paths\"\n>}}\n\n## Loading a dataset\n\nWhen working in Stata, you will work with datasets from different sources and in different formats. Stata provides a list of commands for importing and exporting various data in various formats including Excel spreadsheets (.xls and .xlsx files), text files, and datasets from other software such as SPSS and SAS. Stata can also create and store data in a Stata-format dataset with the filename extension *.dta*. The *.dta* format is the primary format you will use when storing and analyzing data in Stata. \n\nThere are several ways to import a dataset into Stata, including:\n\n* The *\"use\"* command\n* Using File > Open in the menu bar to select a file\n* Clicking on the \"Open\" icon (which looks like a folder) in the Menu bar to select a file.\n* Double clicking on the dataset within your computer's file directory to open a new Stata session with the dataset already loaded\n\nIn most applications, we should be using the *\"use\"* command. For example,  let's download a sample dataset into our current working directory using this command: \n\n```stata\ncopy \"https://raw.githubusercontent.com/PovertyAction/IPA-Stata-Trainings/master/Stata%20101/Data/intro.dta\" \"intro.dta\", replace\n```\n\nNote that you will not see a change in your Stata display after running this command. If you open the folder that you have designated as the current working directory, you should now see a .dta file (marked with the Stata icon) titled \"intro.\"\n\nNext, let's import this dataset from our current working directory into Stata. To do this, use the *\"use\"* command to import the dataset \"intro.dta\" as follows:\n\n```stata\nuse \"intro.dta\", clear\n```\n\n:::{.callout-tip title=\"Tip\"}\n* Because the file is located in your current working directory, you do not need to specify the file path. \n* If you already have a different dataset loaded in Stata's memory, you will need to include the *\", clear\"* option as part of your command.\n:::\n\nThe *\"use\"* command also works directly with URLs. Let's re-import our \"intro\" dataset straight from the Github website by running the following code in Stata:\n\n```stata\nuse \"https://raw.githubusercontent.com/PovertyAction/IPA-Stata-Trainings/master/Stata%20101/Data/intro.dta\", clear\n```\n\nYou will see that Stata has automatically detected and imported the dataset directly from the website without you needing to download it first. \n\n## Saving a dataset\n...\n","srcMarkdownNoYaml":"\n\n\n:::{.page-subtitle}\nIn this resource, we focus on accessing and saving data in Stata, before moving on with data exploration and manipulation.\n:::\n\n## Setting up a working directory\n\n\nWhile working in Stata, you will often need to import or export files into directories (or folders) on your computer. When importing or exporting a file, you need to indicate the location in which the file can be found or saved so that Stata is able to pinpoint the exact file you are looking for or output to the exact folder that you want. In this section, we will explore how Stata handles file directories.\n\nWhenever you open up Stata, Stata sets a default directory. You can see this directory at the bottom left corner of the Stata window.\n\n![Stata Working Directory](/assets/images/stata-working-directory.jpg){fig-cap=\"Stata Working Directory\" width=75%}\n\nStata also provides a convenient command for displaying your current directory. Type the following into your Command window:\n\n```stata\npwd\n```\n\nYou will notice that Stata has displayed the same directory that is displayed at the bottom left of your Stata window. This directory is your current working directory—whenever you try to import or export in Stata without specifying a directory, Stata will assume that this is the one you mean. You can also list the names of the files and folders of your current working directory by using the following commands:\n\n```stata\ndir\nls\n```\n\nFor most projects, you will want to change your working directory to a folder that contains the files you want to work with. You can change your current working directory using the \"cd\" command. Pull up and read the help file for the following command:\n\n```stata\ncd \"target folder\"\n```\n\n## Absolute vs. Relative Paths\n\nWhen working with Stata, it is important to keep a good file system that allows you to easily find project files and subfolders that you may be looking for. Sometimes you may be working alone and can set all your paths with only your own workspace in mind. However, in most cases you will want to write your Stata code in a way that makes it easily usable on other computers without additional setup.\n\nA **relative path** denotes a file path in relation to the current working directory, while an absolute path denotes a file's path at a fixed location on a disk. In most cases, you want to use relative paths—let's explore how they work. First, examine the folder shown below. Take notice of the path at the top as well as the subfolders in this folder. \n\n![Absolute vs. Relative Paths in Stata](/assets/images/stata-relative-path.jpg){fig-cap=\"Using Relative Paths in Stata\" width=75%}\n\nLet's assume that your current working directory in Stata is *\"D:\\Files\\Data Cleaning\\Main Data\"*, which is the folder in the picture above. You want to navigate within Stata to the *\"1 dofiles\"* subfolder. You could achieve this using either of the following codes: \n\n```stata\n* Option 1\ncd \"D:\\Files\\Data Cleaning\\Main Data/1 dofiles\"\n\n* Option 2\ncd \"1 dofiles\"\n```\n\nCode 1 is an example of using an **absolute path**—it directs Stata to an exact location every single time you run this code. This means that regardless of your current working directory in Stata, you can always switch to this target directory using Code 1. However, this code may not work on another computer unless the other user has the *\"Main Data\"* folder located in the path *\"D:\\Files\\Data Cleaning\"*. \n\nCode 2 directs Stata to the same folder using a **relative path**. Based on this code, Stata will assume that you want to move to a folder named *\"1 dofiles\"* which is located in your current working directory. This code will only work if your current working directory contains the folder *\"1 dofiles\"*. \n\n{{< video https://youtu.be/ephId3mYu9o\n    title=\"Absolute and Relative Paths\"\n>}}\n\n## Loading a dataset\n\nWhen working in Stata, you will work with datasets from different sources and in different formats. Stata provides a list of commands for importing and exporting various data in various formats including Excel spreadsheets (.xls and .xlsx files), text files, and datasets from other software such as SPSS and SAS. Stata can also create and store data in a Stata-format dataset with the filename extension *.dta*. The *.dta* format is the primary format you will use when storing and analyzing data in Stata. \n\nThere are several ways to import a dataset into Stata, including:\n\n* The *\"use\"* command\n* Using File > Open in the menu bar to select a file\n* Clicking on the \"Open\" icon (which looks like a folder) in the Menu bar to select a file.\n* Double clicking on the dataset within your computer's file directory to open a new Stata session with the dataset already loaded\n\nIn most applications, we should be using the *\"use\"* command. For example,  let's download a sample dataset into our current working directory using this command: \n\n```stata\ncopy \"https://raw.githubusercontent.com/PovertyAction/IPA-Stata-Trainings/master/Stata%20101/Data/intro.dta\" \"intro.dta\", replace\n```\n\nNote that you will not see a change in your Stata display after running this command. If you open the folder that you have designated as the current working directory, you should now see a .dta file (marked with the Stata icon) titled \"intro.\"\n\nNext, let's import this dataset from our current working directory into Stata. To do this, use the *\"use\"* command to import the dataset \"intro.dta\" as follows:\n\n```stata\nuse \"intro.dta\", clear\n```\n\n:::{.callout-tip title=\"Tip\"}\n* Because the file is located in your current working directory, you do not need to specify the file path. \n* If you already have a different dataset loaded in Stata's memory, you will need to include the *\", clear\"* option as part of your command.\n:::\n\nThe *\"use\"* command also works directly with URLs. Let's re-import our \"intro\" dataset straight from the Github website by running the following code in Stata:\n\n```stata\nuse \"https://raw.githubusercontent.com/PovertyAction/IPA-Stata-Trainings/master/Stata%20101/Data/intro.dta\", clear\n```\n\nYou will see that Stata has automatically detected and imported the dataset directly from the website without you needing to download it first. \n\n## Saving a dataset\n...\n"},"formats":{"html":{"identifier":{"display-name":"HTML","target-format":"html","base-format":"html"},"execute":{"fig-width":7,"fig-height":5,"fig-format":"retina","fig-dpi":96,"df-print":"default","error":false,"eval":true,"cache":null,"freeze":false,"echo":true,"output":true,"warning":true,"include":true,"keep-md":false,"keep-ipynb":false,"ipynb":null,"enabled":null,"daemon":null,"daemon-restart":false,"debug":false,"ipynb-filters":[],"ipynb-shell-interactivity":null,"plotly-connected":true,"engine":"markdown"},"render":{"keep-tex":false,"keep-typ":false,"keep-source":false,"keep-hidden":false,"prefer-html":false,"output-divs":true,"output-ext":"html","fig-align":"default","fig-pos":null,"fig-env":null,"code-fold":"none","code-overflow":"scroll","code-link":false,"code-line-numbers":false,"code-tools":false,"tbl-colwidths":"auto","merge-includes":true,"inline-includes":false,"preserve-yaml":false,"latex-auto-mk":true,"latex-auto-install":true,"latex-clean":true,"latex-min-runs":1,"latex-max-runs":10,"latex-makeindex":"makeindex","latex-makeindex-opts":[],"latex-tlmgr-opts":[],"latex-input-paths":[],"latex-output-dir":null,"link-external-icon":false,"link-external-newwindow":false,"self-contained-math":false,"format-resources":[],"notebook-links":true},"pandoc":{"standalone":true,"wrap":"none","default-image-extension":"png","to":"html","css":["../../../../assets/styles.css"],"toc":true,"output-file":"loading-saving-stata.html"},"language":{"toc-title-document":"Table of contents","toc-title-website":"On this page","related-formats-title":"Other Formats","related-notebooks-title":"Notebooks","source-notebooks-prefix":"Source","other-links-title":"Other Links","code-links-title":"Code Links","launch-dev-container-title":"Launch Dev Container","launch-binder-title":"Launch Binder","article-notebook-label":"Article Notebook","notebook-preview-download":"Download Notebook","notebook-preview-download-src":"Download Source","notebook-preview-back":"Back to Article","manuscript-meca-bundle":"MECA Bundle","section-title-abstract":"Abstract","section-title-appendices":"Appendices","section-title-footnotes":"Footnotes","section-title-references":"References","section-title-reuse":"Reuse","section-title-copyright":"Copyright","section-title-citation":"Citation","appendix-attribution-cite-as":"For attribution, please cite this work as:","appendix-attribution-bibtex":"BibTeX citation:","appendix-view-license":"View License","title-block-author-single":"Author","title-block-author-plural":"Authors","title-block-affiliation-single":"Affiliation","title-block-affiliation-plural":"Affiliations","title-block-published":"Published","title-block-modified":"Modified","title-block-keywords":"Keywords","callout-tip-title":"Tip","callout-note-title":"Note","callout-warning-title":"Warning","callout-important-title":"Important","callout-caution-title":"Caution","code-summary":"Code","code-tools-menu-caption":"Code","code-tools-show-all-code":"Show All Code","code-tools-hide-all-code":"Hide All Code","code-tools-view-source":"View Source","code-tools-source-code":"Source Code","tools-share":"Share","tools-download":"Download","code-line":"Line","code-lines":"Lines","copy-button-tooltip":"Copy to Clipboard","copy-button-tooltip-success":"Copied!","repo-action-links-edit":"Edit this page","repo-action-links-source":"View source","repo-action-links-issue":"Report an issue","back-to-top":"Back to top","search-no-results-text":"No results","search-matching-documents-text":"matching documents","search-copy-link-title":"Copy link to search","search-hide-matches-text":"Hide additional matches","search-more-match-text":"more match in this document","search-more-matches-text":"more matches in this document","search-clear-button-title":"Clear","search-text-placeholder":"Search","search-detached-cancel-button-title":"Cancel","search-submit-button-title":"Submit","search-label":"Search","toggle-section":"Toggle section","toggle-sidebar":"Toggle sidebar navigation","toggle-dark-mode":"Toggle dark mode","toggle-reader-mode":"Toggle reader mode","toggle-navigation":"Toggle navigation","crossref-fig-title":"Figure","crossref-tbl-title":"Table","crossref-lst-title":"Listing","crossref-thm-title":"Theorem","crossref-lem-title":"Lemma","crossref-cor-title":"Corollary","crossref-prp-title":"Proposition","crossref-cnj-title":"Conjecture","crossref-def-title":"Definition","crossref-exm-title":"Example","crossref-exr-title":"Exercise","crossref-ch-prefix":"Chapter","crossref-apx-prefix":"Appendix","crossref-sec-prefix":"Section","crossref-eq-prefix":"Equation","crossref-lof-title":"List of Figures","crossref-lot-title":"List of Tables","crossref-lol-title":"List of Listings","environment-proof-title":"Proof","environment-remark-title":"Remark","environment-solution-title":"Solution","listing-page-order-by":"Order By","listing-page-order-by-default":"Default","listing-page-order-by-date-asc":"Oldest","listing-page-order-by-date-desc":"Newest","listing-page-order-by-number-desc":"High to Low","listing-page-order-by-number-asc":"Low to High","listing-page-field-date":"Date","listing-page-field-title":"Title","listing-page-field-description":"Description","listing-page-field-author":"Author","listing-page-field-filename":"File Name","listing-page-field-filemodified":"Modified","listing-page-field-subtitle":"Subtitle","listing-page-field-readingtime":"Reading Time","listing-page-field-wordcount":"Word Count","listing-page-field-categories":"Categories","listing-page-minutes-compact":"{0} min","listing-page-category-all":"All","listing-page-no-matches":"No matching items","listing-page-words":"{0} words","listing-page-filter":"Filter","draft":"Draft"},"metadata":{"lang":"en","fig-responsive":true,"quarto-version":"1.5.55","theme":{"light":["cosmo","../../../../assets/light-theme.scss"],"dark":["cosmo","../../../../assets/dark-theme.scss"]},"template-partials":["../../../../assets/toc.html"],"grid":{"sidebar-width":"385px","body-width":"675px","margin-width":"350px","gutter-width":"2.5rem"},"title":"Loading and Saving Data","authors-ipa":["[Ishmail Azindoo Baako](https://poverty-action.org/people/ishmail-azindoo-baako)"],"contributors":["[Cristhian Pulido](https://poverty-action.org/people/cristhian-pulido)"]},"extensions":{"book":{"multiFile":true}}}},"projectFormats":["html"]}